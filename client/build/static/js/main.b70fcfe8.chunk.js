(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(48)},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),s=a(2),m=a.n(s),o=a(5),i=a(20),u=a(3),d=a(17),p=a(18),E=a(21),v=a(19),h=a(22),b=a(4),f=function(e){var t=["B","KB","MB","GB","TB","PB"];if(0===e)return"0";if(isNaN(parseFloat(e))||!isFinite(e))return"-";var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return 0===a?e.toFixed(2)+" "+t[0]:(e/Math.pow(1024,a)).toFixed(2)+" "+t[a]},N=function(e){var t,a=e.devices,c=e.columnName,l=a.map(function(e){return Object(u.a)({},e)}),s=Math.min(a.length,5),m=function(e,a,n){switch(a){case"CPU":t="cpuPct",e.sort(function(e,t){return t.cpuPct-e.cpuPct});break;case"Mem":t="memBytes",e.sort(function(e,t){return t.memBytes-e.memBytes});break;case"TX":t="networkTxBytes",e.sort(function(e,t){return t.networkTxBytes-e.networkTxBytes});break;case"RX":t="networkRxBytes",e.sort(function(e,t){return t.networkRxBytes-e.networkRxBytes})}return e.slice(0,n)}(l,c,s).map(function(e){return Object(b.a)({ip:e.ip,owner:e.owner},t,e[t])});return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement("p",{className:"title"}," Top 5 Devices in ",c," "),r.a.createElement("table",{className:"table table-bordered table-condensed table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"col-md-2"},"IP"),r.a.createElement("th",{className:"col-md-2"},"Owner"),"CPU"===c&&r.a.createElement("th",{className:"col-md-2"},"CPU"),"Mem"===c&&r.a.createElement("th",{className:"col-md-2"},"Mem"),"TX"===c&&r.a.createElement("th",{className:"col-md-2"},"TX"),"RX"===c&&r.a.createElement("th",{className:"col-md-2"},"RX"))),r.a.createElement("tbody",null,m.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.ip),r.a.createElement("td",null,e.owner),"CPU"===c&&r.a.createElement("td",null,e.cpuPct,"%"),"Mem"===c&&r.a.createElement("td",null," ",f(e.memBytes)),"TX"===c&&r.a.createElement("td",null,f(e.networkTxBytes)),"RX"===c&&r.a.createElement("td",null,f(e.networkRxBytes)))})))))},w=a(6),y=a.n(w),x=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).onChangeName=function(e,t){var n=a.state.devices.findIndex(function(e){return e._id===t}),r=Object(u.a)({},a.state.devices[n]);r.owner=e.target.value;var c=Object(i.a)(a.state.devices);c[n]=r,a.setState({devices:c,index:n})},a.onSubmitName=function(e){e.preventDefault(),function(){var e=Object(o.a)(m.a.mark(function e(){var t,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state.devices[a.state.index],n={headers:{"Content-Type":"application/json"}},e.next=5,y.a.post("/api/devices",t,n);case 5:r=e.sent,console.log("status: ",r.status),console.log(r.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error posting data");case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}()()},a.state={devices:[],index:0},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this;(function(){var t=Object(o.a)(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.get("/api/devices");case 3:a=t.sent,e.setState({devices:a.data}),a.data.length>0&&(e._id=a.data[0]._id),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error getting data");case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(){return t.apply(this,arguments)}})()()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",{className:"title"}," All Devices "),r.a.createElement("form",{onSubmit:this.onSubmitName},r.a.createElement("table",{className:"table table-bordered table-condensed table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"col-md-2"},"IP"),r.a.createElement("th",{className:"col-md-2"},"Owner"),r.a.createElement("th",{className:"col-md-2"},"CPU"),r.a.createElement("th",{className:"col-md-2"},"Mem"),r.a.createElement("th",{className:"col-md-2"},"TX"),r.a.createElement("th",{className:"col-md-2"},"RX"))),r.a.createElement("tbody",null,this.state.devices.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.ip),r.a.createElement("td",null,r.a.createElement("input",{type:"text",name:"ownwer",defaultValue:t.owner,onChange:function(a){return e.onChangeName(a,t._id)}})),r.a.createElement("td",null,t.cpuPct,"%"),r.a.createElement("td",null,f(t.memBytes)),r.a.createElement("td",null,f(t.networkTxBytes)),r.a.createElement("td",null,f(t.networkRxBytes)))}))),r.a.createElement("p",{className:"top1rem"}),r.a.createElement("input",{type:"submit",value:"Submit Last Change to Server",className:"btn"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"panel-grid"},r.a.createElement("div",{className:"panel-cpu"},r.a.createElement(N,{className:"panel-grid",devices:this.state.devices,columnName:"CPU"})),r.a.createElement("div",{className:"panel-mem"},r.a.createElement(N,{devices:this.state.devices,columnName:"Mem"}),r.a.createElement(N,{devices:this.state.devices,columnName:"TX"}),r.a.createElement(N,{devices:this.state.devices,columnName:"RX"}))))}}]),t}(r.a.Component),k=(a(47),function(){return r.a.createElement(x,null)});l.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.b70fcfe8.chunk.js.map